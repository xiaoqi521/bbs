<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!-- meta -->
    <meta charset="utf-8"/>
    <meta name='description' content='CNode：Node.js专业中文社区'>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="keywords" content="nodejs, node, express, connect, socket.io"/>
    <!-- see http://smerity.com/articles/2013/where_did_all_the_http_referrers_go.html -->
    <meta name="referrer" content="always">


    <meta name="author" content="EDP@TaoBao"/>

    <meta property="wb:webmaster" content="617be6bd946c6b96"/>


    <link title="RSS" type="application/rss+xml" rel="alternate" href="/rss"/>


    <link rel="icon" href="//o4j806krb.qnssl.com/public/images/cnode_icon_32.png" type="image/x-icon"/>


    <!-- style -->
    <link rel="stylesheet" href="//o4j806krb.qnssl.com/public/stylesheets/index.min.bdd5dd43.min.css" media="all"/>


    <!-- scripts -->
    <script src="//o4j806krb.qnssl.com/public/index.min.aeb155e1.min.js"></script>


    <title>Python bbs</title>

    <meta content="_csrf" name="csrf-param">
    <meta content="bcWw6XxR-Yhmh_Q85iw4_jU82TABv_ii5Cvk" name="csrf-token">
</head>
<body>
<!-- navbar -->
<div class='navbar'>
    <div class='navbar-inner'>
        <div class='container'>
            <a class='brand' href='{{ url_for('.index') }}'>

                <img src=""/>

            </a>

            <form id='search_form' class='navbar-search' action="/search">
                <input type='text' id='q' name='q' class='search-query span3' value=''/>
            </form>
            <ul class='nav pull-right'>
                <li><a href='{{ url_for('.index') }}'>首页</a></li>

                <li><a href='/getstart'>新手入门</a></li>
                <li><a href='/api'>API</a></li>

                <li><a href="/about" target="">关于</a></li>
                {% if login == false %}
                    <li><a href='{{ url_for('index.register') }}'>注册</a></li>
                    <li><a href='{{ url_for('index.index') }}'>登录</a></li>
                {% else %}
                    <li><a href='{{ url_for('index.logout') }}' data-method="post" rel="nofollow">退出</a></li>
                {% endif %}


            </ul>
            <a class="btn btn-navbar" id="responsive-sidebar-trigger">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
        </div>
    </div>
</div>
<div id='main'>
    <div id='sidebar'>

        <div class='panel'>

            <div class='header'>
                <span class='col_fade'>个人信息</span>
            </div>
            <div class='inner'>
                <div class='user_card'>
                    <div>
                        <a class='user_avatar' href="/user/atian25">
                            <img src="/uploads/{{ user.id }}?v=3&amp;s=120" title="{{ user.username }}"/>
                        </a>
                        <span class='user_name'><a class='dark' href="/user/atian25">{{ user.username }}</a></span>

                        <div class='board clearfix'>
                            <div class='floor'>
                                <span class='big'>积分: {{ user.integral }} </span>
                            </div>
                        </div>
                        <div class="space clearfix"></div>
                        <span class="signature">{{ user.signature }}</span>
                    </div>
                </div>


                <script>
                    $(document).ready(function () {
                        $('.follow_btn').click(function () {
                            var $me = $(this);
                            var action = $me.attr('action');
                            var params = {
                                follow_id: '5a8c443171327bb413bbfd49',
                                _csrf: 'bcWw6XxR-Yhmh_Q85iw4_jU82TABv_ii5Cvk'
                            };
                            $.post('/user/' + action, params, function (data) {
                                if (data.status === 'success') {
                                    var $btns = $('.follow_btn');
                                    if (action === 'follow') {
                                        $btns.html('取消关注');
                                        $btns.attr('action', 'un_follow');
                                    } else {
                                        $btns.html('加入关注');
                                        $btns.attr('action', 'follow');
                                    }
                                    $btns.toggleClass('btn-success');
                                }
                            }, 'json');
                        });
                    });
                </script>
            </div>
        </div>
        <div class="panel">
            <div class='inner'>
                <a href='/topic/create' id='create_topic_btn'>
                    <span class='span-success'>发布话题</span>
                </a>
            </div>
        </div>
        <div class='panel'>
            <div class='inner ads'>


                <a href="https://alinode.aliyun.com/?ref=cnode" target="_blank" class="banner sponsor_outlink"
                   data-label="alinode">
                    <img src="//dn-cnode.qbox.me/Fn4D6BhOTz1IswvmzeZ1q7QW1ls_">
                </a>


                <div class="sep10"></div>

                <a href="http://www.ucloud.cn/site/active/gift.html?utm_source=cnodejs&utm_medium=content_pic_pc&utm_campaign=multicloud&utm_content=gift&ytag=cnodejs"
                   target="_blank" class="banner sponsor_outlink"
                   data-label="ucloud-banner">
                    <img src="//dn-cnode.qbox.me/FgQS-GQDfqwAD_v0NuhyYUOUk5MG">
                </a>


                <div class="sep10"></div>

                <a href="https://0x7.me/UDyj" target="_blank" class="banner sponsor_outlink"
                   data-label="qiniu-sidebar">
                    <img src="//dn-cnode.qbox.me/Fv9R31Y6ySKKJi95ldk9TRkJ7o5O">
                </a>

            </div>
        </div>


        <div class='panel'>
            <div class='header'>
                <span class='col_fade'>友情社区</span>
            </div>
            <div class='inner'>
                <ol class="friendship-community">
                    <li>
                        <a href="https://ruby-china.org/" target="_blank">
                            <img src="//o4j806krb.qnssl.com/public/images/ruby-china-20150529.png">
                        </a>
                    </li>
                    <div class="sep10"></div>
                    <li>
                        <a href="http://golangtc.com/" target="_blank">
                            <img src="//o4j806krb.qnssl.com/public/images/golangtc-logo.png">
                        </a>
                    </li>
                    <div class="sep10"></div>
                    <li>
                        <a href="http://phphub.org/" target="_blank">
                            <img src="//o4j806krb.qnssl.com/public/images/phphub-logo.png">
                        </a>
                    </li>
                    <div class="sep10"></div>
                    <li>
                        <a href="https://testerhome.com/" target="_blank">
                            <img src="//dn-cnode.qbox.me/FjLUc7IJ2--DqS706etPQ1EGajxK">
                        </a>
                    </li>
                </ol>
            </div>
        </div>
        <div class='panel'>
            <div class='header'>
                <span class='col_fade'>客户端二维码</span>
            </div>
            <div class='inner cnode-app-download'>
                <img width='200' src="//dn-cnode.qbox.me/FtG0YVgQ6iginiLpf9W4_ShjiLfU">
                <br/>
                <a href="https://github.com/soliury/noder-react-native" target="_blank">客户端源码地址</a>
            </div>
        </div>

    </div>


    <div id='content'>
        <div class='panel'>
            <div class='header'>
                <ul class='breadcrumb'>
                    <li><a href='/'>主页</a><span class='divider'>/</span></li>
                    <li class='active'>设置</li>
                </ul>
            </div>
            <div class='inner'>
                {% if login == False %}
                    <form id='setting_form' class='form-horizontal' action='{{ url_for('.setting') }}' method='post'>
                        <div class='control-group'>

                        </div>
                        <div class='control-group'>
                            <label class='control-label' readonly='true' readonly='true' for='email'>电子邮件</label>

                            <div class='controls'>
                                <input class='input-xlarge readonly' id='email' name='email' size='30' type='text'
                                       readonly='true' value="{{ user.email }}"/>
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='url'>个人网站</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='url' name='url' size='30' type='text' readonly='true'
                                       value="{{ user.email }}"/>
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='location'>所在地点</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='location' name='location' size='30' type='text'
                                       readonly="readonly" value="{{ user.location }}"/>
                            </div>
                        </div>

                        <div class='control-group'>
                            <label class='control-label' for='weibo'>微博</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='weibo' name='weibo' size='30' type='text'
                                       readonly="readonly" value="{{ user.weibo }}"
                                />
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='github'>GitHub</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='github' name='github' size='30' type='text'
                                       readonly="readonly" value="{{ user.github }}"/>
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='signature'>个性签名</label>

                            <div class='controls'>
                                <textarea class='input-xlarge' id='signature' name='signature' readonly="readonly"
                                          size='30'>{{ user.signature }}</textarea>
                            </div>
                        </div>
                    </form>
                {% else %}
                    <form id='setting_form' class='form-horizontal' action='{{ url_for('.setting') }}' method='post'>
                        <div class='control-group'>

                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='email'>电子邮件</label>

                            <div class='controls'>
                                <input class='input-xlarge readonly' id='email' name='email' size='30' type='text'
                                       value="{{ user.email }}"/>
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='url'>个人网站</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='url' name='url' size='30' type='text'
                                       value="{{ user.email }}"/>
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='location'>所在地点</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='location' name='location' size='30' type='text'
                                       value="{{ user.location }}"/>
                            </div>
                        </div>

                        <div class='control-group'>
                            <label class='control-label' for='weibo'>微博</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='weibo' name='weibo' size='30' type='text'
                                       value="{{ user.weibo }}"
                                />
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='github'>GitHub</label>

                            <div class='controls'>
                                <input class='input-xlarge' id='github' name='github' size='30' type='text'
                                       value="{{ user.github }}"/>
                            </div>
                        </div>
                        <div class='control-group'>
                            <label class='control-label' for='signature'>个性签名</label>

                            <div class='controls'>
                                <textarea class='input-xlarge' id='signature' name='signature'
                                          size='30'>{{ user.signature }}</textarea>
                            </div>
                        </div>
                        <div class='form-actions'>
                            <input type='submit' class='span-primary submit_btn' data-loading-text="保存中.."
                                   value='保存设置'/>
                        </div>
                    </form>
                {% endif %}
            </div>
        </div>
    </div>
{% if login == False %}

{% elif login == true %}
        <div class='panel'>
        <div class='header'>
            <span class='col_fade'>上传头像</span>
        </div>
        <div class='inner'>
            <form method=post action={{ url_for(".add_img") }} enctype=multipart/form-data>
      <p><input type=file name=file>
         <input  class='span-primary submit_btn' type=submit value=Upload>
    </form>
        </div>
    </div>
{% endif %}

</div>

<script type="text/javascript">
    // qrcode generate
    var accessToken = "f641a819-6cc2-4cb0-9d5b-deeb25b7593e";
    new QRCode(document.getElementById("access-token-qrcode"), {
        text: accessToken,
        width: 200,
        height: 200,
    });
    // END qrcode generate
</script>

</div>
<div id='backtotop'>回到顶部</div>
<div id='footer'>
    <div id='footer_main'>
        <div class="links">
            <a class='dark' href='/rss'>RSS</a>
            |
            <a class='dark' href='https://github.com/cnodejs/nodeclub/'>源码地址</a>
        </div>

        <div class='col_fade'>

            <p>CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。</p>
            <p>服务器赞助商为
                <a href="http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=cnodejs&utm_medium=display&utm_content=yejiao&ytag=cnodejs_logo"
                   target="_blank"
                   class="sponsor_outlink" data-label="ucloud_bottom">
                    <img src="//dn-cnode.qbox.me/FuIpEaM9bvsZKnQ3QfPtBHWQmLM9" title="ucloud"
                         alt="ucloud" width="92px"/>
                </a>
                ，存储赞助商为
                <a href="http://www.qiniu.com/?ref=cnode" target="_blank"
                   class="sponsor_outlink" data-label="qiniu_bottom">
                    <img src="//dn-cnode.qbox.me/Fg0jtDIcTqVC049oVu5-sn6Om4NX" title="七牛云存储"
                         alt="七牛云存储" width="115px"/>
                </a>
                ，由<a href="https://alinode.aliyun.com/?ref=cnode" target="_blank"
                     class="sponsor_outlink" data-label="alinode_bottom">
                    <img src="//dn-cnode.qbox.me/FpMZk31PDyxkC8yStmMQL4XroaGD" title="alinode"
                         alt="alinode" height="54px" width="166px"/>
                </a>提供应用性能服务。
            </p>
            <p>新手搭建 Node.js 服务器，推荐使用无需备案的 <a href="https://www.digitalocean.com/?refcode=eba02656eeb3">DigitalOcean(https://www.digitalocean.com/)</a>
            </p>
        </div>


    </div>
</div>
<div id="sidebar-mask"></div>


<script>
    // google analytics
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', "https://www.google-analytics.com/analytics.js", 'ga');

    ga('create', 'UA-41753901-5', 'auto');
    ga('send', 'pageview');
</script>


<div style="display:none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1254020586&web_id=1254020586" language="JavaScript"></script>
</div>


</body>
</html>
